<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4 Compiler Documentation (P4C): MauPower::PowerMemoryAccess Struct Reference</title>
<link rel="icon" href="p4-fav.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--  Add link to paragraphs   -->
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
  DoxygenAwesomeParagraphLink.init()
</script>
<!-- Add copy button to code fragments  -->
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add dark mode toggle -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<!-- Add interactive TOC -->
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
  DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-interactive-toc.js" rel="stylesheet" type="text/css"/>
<link href="cards.css" rel="stylesheet" type="text/css"/>
<link href="flow.css" rel="stylesheet" type="text/css"/>
<link href="p4c_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="p4-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">P4C
   </div>
   <div id="projectbrief">The P4 Compiler</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('struct_mau_power_1_1_power_memory_access.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="struct_mau_power_1_1_power_memory_access-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MauPower::PowerMemoryAccess Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1675350b878f11548d72d3774f1c977b" id="r_a1675350b878f11548d72d3774f1c977b"><td class="memItemLeft" align="right" valign="top"><a id="a1675350b878f11548d72d3774f1c977b" name="a1675350b878f11548d72d3774f1c977b"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>PowerLogging</b> = Logging::Power_Schema_Logger</td></tr>
<tr class="separator:a1675350b878f11548d72d3774f1c977b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a06ef63cfc20bd2a80a6a33e6d502b2c7" id="r_a06ef63cfc20bd2a80a6a33e6d502b2c7"><td class="memItemLeft" align="right" valign="top"><a id="a06ef63cfc20bd2a80a6a33e6d502b2c7" name="a06ef63cfc20bd2a80a6a33e6d502b2c7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PowerMemoryAccess</b> (int ram_read, int ram_write, int tcam_read, int map_ram_read, int map_ram_write, int deferred_ram_read, int deferred_ram_write)</td></tr>
<tr class="separator:a06ef63cfc20bd2a80a6a33e6d502b2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1001d8361325a19102fa594caf9e667" id="r_ae1001d8361325a19102fa594caf9e667"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1001d8361325a19102fa594caf9e667">compute_table_power</a> (int num_pipes) const</td></tr>
<tr class="separator:ae1001d8361325a19102fa594caf9e667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41045396aab2ac637f86cec7d3e094e4" id="r_a41045396aab2ac637f86cec7d3e094e4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41045396aab2ac637f86cec7d3e094e4">compute_table_weight</a> (double computed_power, int num_pipes) const</td></tr>
<tr class="separator:a41045396aab2ac637f86cec7d3e094e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7502194aa5113fa9b54e890bc708bd" id="r_aac7502194aa5113fa9b54e890bc708bd"><td class="memItemLeft" align="right" valign="top"><a id="aac7502194aa5113fa9b54e890bc708bd" name="aac7502194aa5113fa9b54e890bc708bd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>log_json_memories</b> (PowerLogging::StageDetails *) const</td></tr>
<tr class="separator:aac7502194aa5113fa9b54e890bc708bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd01ae9973a2d76e1df5cf5f5212d8f8" id="r_abd01ae9973a2d76e1df5cf5f5212d8f8"><td class="memItemLeft" align="right" valign="top"><a id="abd01ae9973a2d76e1df5cf5f5212d8f8" name="abd01ae9973a2d76e1df5cf5f5212d8f8"></a>
<a class="el" href="struct_mau_power_1_1_power_memory_access.html">PowerMemoryAccess</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator+</b> (const <a class="el" href="struct_mau_power_1_1_power_memory_access.html">PowerMemoryAccess</a> &amp;p) const</td></tr>
<tr class="separator:abd01ae9973a2d76e1df5cf5f5212d8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63d57790c11dfc02990beeb14646a2a" id="r_ae63d57790c11dfc02990beeb14646a2a"><td class="memItemLeft" align="right" valign="top"><a id="ae63d57790c11dfc02990beeb14646a2a" name="ae63d57790c11dfc02990beeb14646a2a"></a>
<a class="el" href="struct_mau_power_1_1_power_memory_access.html">PowerMemoryAccess</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator+=</b> (const <a class="el" href="struct_mau_power_1_1_power_memory_access.html">PowerMemoryAccess</a> &amp;p)</td></tr>
<tr class="separator:ae63d57790c11dfc02990beeb14646a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab5ee33cea400fdfba6b933661c9eea01" id="r_ab5ee33cea400fdfba6b933661c9eea01"><td class="memItemLeft" align="right" valign="top"><a id="ab5ee33cea400fdfba6b933661c9eea01" name="ab5ee33cea400fdfba6b933661c9eea01"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>deferred_ram_read</b> = 0</td></tr>
<tr class="separator:ab5ee33cea400fdfba6b933661c9eea01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218d09cbc5ac88a529e6fad3e22dc03a" id="r_a218d09cbc5ac88a529e6fad3e22dc03a"><td class="memItemLeft" align="right" valign="top"><a id="a218d09cbc5ac88a529e6fad3e22dc03a" name="a218d09cbc5ac88a529e6fad3e22dc03a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>deferred_ram_write</b> = 0</td></tr>
<tr class="separator:a218d09cbc5ac88a529e6fad3e22dc03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e851a0fa29ee7004d8faeaeb1253042" id="r_a8e851a0fa29ee7004d8faeaeb1253042"><td class="memItemLeft" align="right" valign="top"><a id="a8e851a0fa29ee7004d8faeaeb1253042" name="a8e851a0fa29ee7004d8faeaeb1253042"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>map_ram_read</b> = 0</td></tr>
<tr class="separator:a8e851a0fa29ee7004d8faeaeb1253042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc964f1f33ac05c66f6f5d237c4d4519" id="r_afc964f1f33ac05c66f6f5d237c4d4519"><td class="memItemLeft" align="right" valign="top"><a id="afc964f1f33ac05c66f6f5d237c4d4519" name="afc964f1f33ac05c66f6f5d237c4d4519"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>map_ram_write</b> = 0</td></tr>
<tr class="separator:afc964f1f33ac05c66f6f5d237c4d4519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3ff9c7f82b21fe2aa8fb9f5751234d" id="r_a6d3ff9c7f82b21fe2aa8fb9f5751234d"><td class="memItemLeft" align="right" valign="top"><a id="a6d3ff9c7f82b21fe2aa8fb9f5751234d" name="a6d3ff9c7f82b21fe2aa8fb9f5751234d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ram_read</b> = 0</td></tr>
<tr class="separator:a6d3ff9c7f82b21fe2aa8fb9f5751234d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727870e150574022551daf33c895c481" id="r_a727870e150574022551daf33c895c481"><td class="memItemLeft" align="right" valign="top"><a id="a727870e150574022551daf33c895c481" name="a727870e150574022551daf33c895c481"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ram_write</b> = 0</td></tr>
<tr class="separator:a727870e150574022551daf33c895c481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f00f7bddeb18cab7ad290dd55c8acca" id="r_a7f00f7bddeb18cab7ad290dd55c8acca"><td class="memItemLeft" align="right" valign="top"><a id="a7f00f7bddeb18cab7ad290dd55c8acca" name="a7f00f7bddeb18cab7ad290dd55c8acca"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>tcam_read</b> = 0</td></tr>
<tr class="separator:a7f00f7bddeb18cab7ad290dd55c8acca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a66d58067e0da35f3435e23d01a0ceadb" id="r_a66d58067e0da35f3435e23d01a0ceadb"><td class="memItemLeft" align="right" valign="top"><a id="a66d58067e0da35f3435e23d01a0ceadb" name="a66d58067e0da35f3435e23d01a0ceadb"></a>
std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator&lt;&lt;</b> (std::ostream &amp;out, const <a class="el" href="struct_mau_power_1_1_power_memory_access.html">PowerMemoryAccess</a> &amp;p)</td></tr>
<tr class="separator:a66d58067e0da35f3435e23d01a0ceadb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae1001d8361325a19102fa594caf9e667" name="ae1001d8361325a19102fa594caf9e667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1001d8361325a19102fa594caf9e667">&#9670;&#160;</a></span>compute_table_power()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double MauPower::PowerMemoryAccess::compute_table_power </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_pipes</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the worst-case power consumed given parameters that indicate the number of different memory types read and written. This function is intended to be called per logical table in each stage, where the parameters include the sum of memories accessed by the match table and all its attached tables. For example, if an exact match table has a directly attached counter, the parameters should have non-zero values for rams_read, rams_write, map_rams_read, and map_rams_write. If the counter runs at EOP time, the deferred_rams_read and deferred_rams_write should have non-zero values as well. Note that the value this function returns should not be exposed to an end-user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_pipes</td><td>The number of pipes to consider this table in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total power consumed (in Watts).</dd></dl>
<p>Computes the power consumed by a single table in the specified number of pipelines. Note that the result of this function should not be exposed to the user in logging. (Yes, it can experimentally derived fairly easily...) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_pipes</td><td>The number of pipelines to consider the table in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An estimate for the power consumption (in Watts) based on the table's access pattern. </dd></dl>

</div>
</div>
<a id="a41045396aab2ac637f86cec7d3e094e4" name="a41045396aab2ac637f86cec7d3e094e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41045396aab2ac637f86cec7d3e094e4">&#9670;&#160;</a></span>compute_table_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double MauPower::PowerMemoryAccess::compute_table_weight </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>computed_power</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_pipes</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a normalized weight of a table's power contribution. We do not generally want to expose the raw Watts used by a table, as this is considered Barefoot secret. </p><dl class="section return"><dt>Returns</dt><dd>The normalized weight of the power contribution of this table. Note that this is normalized to one pipeline.</dd></dl>
<p>Normalize power units to a unitless weight value. The result of this function is the one that can be exposed to the user. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_mau_power.html">MauPower</a></li><li class="navelem"><a class="el" href="struct_mau_power_1_1_power_memory_access.html">PowerMemoryAccess</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
