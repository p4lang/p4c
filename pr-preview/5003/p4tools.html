<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4 Compiler Documentation (P4C): P4Tools</title>
<link rel="icon" href="p4-fav.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--  Add link to paragraphs   -->
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
  DoxygenAwesomeParagraphLink.init()
</script>
<!-- Add copy button to code fragments  -->
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add dark mode toggle -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="cards.css" rel="stylesheet" type="text/css"/>
<link href="flow.css" rel="stylesheet" type="text/css"/>
<link href="p4c_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="p4-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">P4C
   </div>
   <div id="projectbrief">The P4 Compiler</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('p4tools.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">P4Tools</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1 empty">
    <ul>
      <li class="level2">
        <a href="#directory-structure">Directory Structure</a>
      </li>
      <li class="level2">
        <a href="#building">Building</a>
      </li>
      <li class="level2">
        <a href="#dependencies-4">Dependencies</a>
      </li>
      <li class="level2">
        <a href="#development-style">Development Style</a>
        <ul>
          <li class="level3">
            <a href="#c-coding-style">C++ Coding style</a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#p4tools-contributors">P4Tools Contributors</a>
  </li>
  <li class="level1">
    <a href="#core-developers">Core Developers</a>
  </li>
  <li class="level1">
    <a href="#history">History</a>
  </li>
</ul>
</div>
<div class="textblock"><p>P4Tools is a collection of tools that make testing P4 targets and programs a little easier. So far the platform supports the following tools and projects:</p>
<ul>
<li><a href="https://github.com/p4lang/p4c/tree/main/backends/p4tools/modules/testgen">P4Testgen</a>: An input-output test case generator for P4.</li>
<li><a href="https://github.com/p4lang/p4c/tree/main/backends/p4tools/modules/smith">P4Smith</a>: A random P4 program generator in the spirit of Csmith.</li>
</ul>
<h2><a class="anchor" id="directory-structure"></a>
Directory Structure</h2>
<div class="fragment"><div class="line">p4tools</div>
<div class="line"> ├─ cmake            ── common P4Tools CMake modules.</div>
<div class="line"> ├─ common           ── common code for the various P4Tools modules.</div>
<div class="line"> │  ├─ compiler      ── transformation passes for P4 code.</div>
<div class="line"> │  ├─ control_plane ── code concerning P4Tool&#39;s control plane semantics.</div>
<div class="line"> │  ├─ core          ── definitions for core parts of the P4Tools modules.</div>
<div class="line"> │  └─ lib           ── helper functions and utilities for P4Tools modules.  </div>
<div class="line"> └─  modules         ── P4Tools extensions.</div>
<div class="line">    ├─ smith       ── P4Smith: a random P4 program generator.</div>
<div class="line">    └─ testgen       ── P4Testgen: a test-case generator for P4 programs.</div>
</div><!-- fragment --><h2><a class="anchor" id="building"></a>
Building</h2>
<p>Please see the general installation instructions <a href="https://github.com/p4lang/p4c#installing-p4c-from-source">here</a>. P4Tools can be built using the following CMAKE configuration in the P4C repository.</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DENABLE_TEST_TOOLS=ON</div>
<div class="line">make</div>
</div><!-- fragment --><h2><a class="anchor" id="dependencies-4"></a>
Dependencies</h2>
<ul>
<li><a href="https://github.com/Z3Prover/z3">z3</a> SMT solver to compute path constraints.<ul>
<li>Important: We currently only support Z3 versions 4.8.14 to 4.12.0.</li>
</ul>
</li>
</ul>
<p>These dependencies are automatically installed via CMakelist's <a href="https://cmake.org/cmake/help/latest/module/FetchContent.html">FetchContent</a> module.</p>
<h2><a class="anchor" id="development-style"></a>
Development Style</h2>
<p>Currently, each C++ source directory has a few subdirectories, including:</p><ul>
<li><code>core</code>, containing the core functionality of the submodule; and</li>
<li><code>lib</code>, containing supporting data structures.</li>
</ul>
<p>The distinction between the two can be fuzzy. Here are some guiding principles for where to find/put what:</p><ul>
<li>If it depends on anything in <code>core</code>, it belongs in <code>core</code>.</li>
<li>If it's something that resembles a general-purpose data structure (e.g., an environment or a symbol table), it's probably in <code>lib</code>.</li>
</ul>
<h3><a class="anchor" id="c-coding-style"></a>
C++ Coding style</h3>
<p>P4Tools in general follows the <a href="https://github.com/p4lang/p4c/blob/main/docs/README.md#coding-conventions">P4C coding style</a>. Some deviations from the Style Guide are highlighted below.</p>
<ul>
<li>Comments are important. The Style Guide's <a href="https://google.github.io/styleguide/cppguide.html#Comments">section on comments</a> is required reading.<ul>
<li>Classes, methods, and fields are documented with triple-slash Doxygen-style comments: <code> /// An example class demonstrating a documentation comment. class C {}; </code></li>
<li>We do not use copyright headers or license boilerplate in our source files. Where needed, these will be auto-generated during release packaging.</li>
</ul>
</li>
<li>Generally prefer a single class declaration per <code>.h</code> file, unless providing a library of related classes. Multiple classes may be declared in a <code>.cpp</code> file.</li>
</ul>
<h1><a class="anchor" id="p4tools-contributors"></a>
P4Tools Contributors</h1>
<p>P4Testgen is a test oracle for the P4 language. Given a P4_16 program and a specification of the underlying architecture, it automatically generates a comprehensive set of input/output tests that can be executed to validate a target device.</p>
<h1><a class="anchor" id="core-developers"></a>
Core Developers</h1>
<ul>
<li><a href="https://github.com/fruffy">@fruffy (NYU)</a></li>
<li><a href="https://github.com/liujed">@liujed (Akita Software)</a></li>
<li><a href="https://github.com/vhavel">@vhavel (Intel)</a></li>
<li><a href="https://github.com/hannelita">@hannelita (Intel)</a></li>
<li><a href="https://github.com/vladyslav-dubina">@vladyslav-dubina (Litsoft)</a></li>
<li><a href="https://github.com/VolodymyrPeschanenko">@VolodymyrPeschanenko (Litsoft)</a></li>
<li><a href="https://github.com/jnfoster">@jnfoster (Cornell and Intel)</a></li>
</ul>
<h1><a class="anchor" id="history"></a>
History</h1>
<p>Jed Liu was the original architect of P4Testgen and designed the abstract machine that allows using P4C's visitors to implement arbitrary traversals of the program IR. Building on Jed's design, Fabian Ruffy completed the symbolic interpreter for P4_16's core features and designed extensions for common open-source architectures. He also developed the model of packets, taint tracking, and concolic execution. Prathima Kotikalapudi developed the extensible test backend, with instantiations for PTF and STF. Vojtěch Havel assisted with the implementation of the symbolic interpreter and the development of P4Testgen extensions for several Intel architectures. Hanneli Tavante added support for strategies that guide the exploration of paths that maximize various notions of coverage. Volodymyr Peschanenko, and Vlad Dubina developed the SMT-LIB interface to Z3, implemented front-end and mid-end passes such as parser unrolling, and completed the back end for the V1Model architecture on the BMv2 simple switch. Nate Foster guided the design of P4Testgen and contributed to various aspects of the symbolic interpreter.   </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
