<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4 Compiler Documentation (P4C): MeterALU::Format::Use Struct Reference</title>
<link rel="icon" href="p4-fav.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--  Add link to paragraphs   -->
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
  DoxygenAwesomeParagraphLink.init()
</script>
<!-- Add copy button to code fragments  -->
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<!-- Add dark mode toggle -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<!-- Add interactive TOC -->
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
  DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-interactive-toc.js" rel="stylesheet" type="text/css"/>
<link href="cards.css" rel="stylesheet" type="text/css"/>
<link href="flow.css" rel="stylesheet" type="text/css"/>
<link href="p4c_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="p4-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">P4C
   </div>
   <div id="projectbrief">The P4 Compiler</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('struct_meter_a_l_u_1_1_format_1_1_use.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_meter_a_l_u_1_1_format_1_1_use-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MeterALU::Format::Use Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a657d38d221bdfabff8ca2718289c47f4" id="r_a657d38d221bdfabff8ca2718289c47f4"><td class="memItemLeft" align="right" valign="top"><a id="a657d38d221bdfabff8ca2718289c47f4" name="a657d38d221bdfabff8ca2718289c47f4"></a>
<a class="el" href="class_p4_1_1safe__vector.html">safe_vector</a>&lt; const <a class="el" href="struct_action_data_1_1_a_l_u_position.html">ActionData::ALUPosition</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>all_alu_positions</b> () const</td></tr>
<tr class="separator:a657d38d221bdfabff8ca2718289c47f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e70d9a18530da8611678b0215424996" id="r_a2e70d9a18530da8611678b0215424996"><td class="memItemLeft" align="right" valign="top"><a id="a2e70d9a18530da8611678b0215424996" name="a2e70d9a18530da8611678b0215424996"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clear</b> ()</td></tr>
<tr class="separator:a2e70d9a18530da8611678b0215424996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b6cf579ad354fbe39cf3997c020285" id="r_a61b6cf579ad354fbe39cf3997c020285"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61b6cf579ad354fbe39cf3997c020285">contains_adb_slot</a> (ActionData::SlotType_t type, int start_byte) const</td></tr>
<tr class="separator:a61b6cf579ad354fbe39cf3997c020285"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1279b06effb147529c7ae63c3be695de" id="r_a1279b06effb147529c7ae63c3be695de"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="class_p4_1_1cstring.html">cstring</a>, <a class="el" href="class_p4_1_1safe__vector.html">safe_vector</a>&lt; <a class="el" href="struct_action_data_1_1_a_l_u_position.html">ActionData::ALUPosition</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1279b06effb147529c7ae63c3be695de">alu_positions</a></td></tr>
<tr class="separator:a1279b06effb147529c7ae63c3be695de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2029c617f61d2cee200cefec50223f1" id="r_ab2029c617f61d2cee200cefec50223f1"><td class="memItemLeft" align="right" valign="top">ActionData::BusInputs&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2029c617f61d2cee200cefec50223f1">meter_alu_bus_inputs</a> = {{<a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>()}}</td></tr>
<tr class="separator:ab2029c617f61d2cee200cefec50223f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c402a080da848c49538799316fdae17" id="r_a2c402a080da848c49538799316fdae17"><td class="memItemLeft" align="right" valign="top">ActionData::BusInputs&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c402a080da848c49538799316fdae17">table_bus_inputs</a> = {{<a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>()}}</td></tr>
<tr class="separator:a2c402a080da848c49538799316fdae17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a61b6cf579ad354fbe39cf3997c020285" name="a61b6cf579ad354fbe39cf3997c020285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b6cf579ad354fbe39cf3997c020285">&#9670;&#160;</a></span>contains_adb_slot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MeterALU::Format::Use::contains_adb_slot </td>
          <td>(</td>
          <td class="paramtype">ActionData::SlotType_t</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>start_byte</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The purpose of this file is to determine the requirements of any LPF, WRED, or Stateful ALU that is writing some value back to the data plane. Unlike meter color, which is processed through the immediate pathway, these type of output come from the ALU on that particular row and output onto the home row action bus. Thus, the requirements are similar to that of an action data table. The following describes their location in the uArch:</p>
<p>MAU Figure 6-73: LPF meter block diagram</p>
<p>The 32-bit Vnew is passed to the RED logic (when enabled) to generate the 8b drop indicator. If RED is enabled, then the drop indicator is output to the action data bus. Otherwise the 32b Vnew (optionally scaled by the LPF action scale field of the meter RAM word) value is sent.</p>
<p>Note:</p>
<p>The output format is encoded as a bitvec of 4 bit. Each bit represents the use of 1 byte on action data bus. The encoded value is computed from 'read.size()' and 'container_bit'. The 'container_bit' gives the offset into 32 bit block. The 'read.size()' gives the size of used bits in the 32 bit block.</p>
<p>MAU Figure 6-74: Stateful ALU block diagram</p>
<p>The alu-hi/lo outputs are also sent to the output ALU where they can be passed to the action data bus. If the output ALU is predicated off, then its output is gated to 0. The exception to this is when the 4b predication output from cmp-hi/lo is being sent directly to the action data bus.</p>
<p>Note:</p>
<p>Same as meter alu above, the output format is encoded as a bitvec of 4 bit.</p>
<p>MAU Sec 6.2.12.7: ALU output</p>
<p>Multiple stateful ALU outputs can be ORâ€™ed together onto the action data bus by configuring the shift values the same across each stateful ALU. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1279b06effb147529c7ae63c3be695de" name="a1279b06effb147529c7ae63c3be695de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1279b06effb147529c7ae63c3be695de">&#9670;&#160;</a></span>alu_positions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="class_p4_1_1cstring.html">cstring</a>, <a class="el" href="class_p4_1_1safe__vector.html">safe_vector</a>&lt;<a class="el" href="struct_action_data_1_1_a_l_u_position.html">ActionData::ALUPosition</a>&gt; &gt; MeterALU::Format::Use::alu_positions</td>
        </tr>
      </table>
</div><div class="memdoc">
<blockquote class="doxtable">
<p>ALU Operations to be use in InstructionAdjustment </p>
</blockquote>

</div>
</div>
<a id="ab2029c617f61d2cee200cefec50223f1" name="ab2029c617f61d2cee200cefec50223f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2029c617f61d2cee200cefec50223f1">&#9670;&#160;</a></span>meter_alu_bus_inputs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionData::BusInputs MeterALU::Format::Use::meter_alu_bus_inputs = {{<a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>()}}</td>
        </tr>
      </table>
</div><div class="memdoc">
<blockquote class="doxtable">
<p>ADB inputs on home row for all tables that share this associated attached memory </p>
</blockquote>

</div>
</div>
<a id="a2c402a080da848c49538799316fdae17" name="a2c402a080da848c49538799316fdae17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c402a080da848c49538799316fdae17">&#9670;&#160;</a></span>table_bus_inputs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActionData::BusInputs MeterALU::Format::Use::table_bus_inputs = {{<a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>(), <a class="el" href="class_p4_1_1bitvec.html">bitvec</a>()}}</td>
        </tr>
      </table>
</div><div class="memdoc">
<blockquote class="doxtable">
<p>ADB inputs on home row from this table's operations` </p>
</blockquote>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_meter_a_l_u.html">MeterALU</a></li><li class="navelem"><a class="el" href="class_meter_a_l_u_1_1_format.html">Format</a></li><li class="navelem"><a class="el" href="struct_meter_a_l_u_1_1_format_1_1_use.html">Use</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
